<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>六便士的临时站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="基本语法规则第一个shell脚本12#!/bin/bashecho &quot;Hello World !&quot; #! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。 echo 命令用于向窗口输出文本。 运行 Shell 脚本有两种方法：1. 作为可执行程序将上面的代码保存为 test.sh，并 cd 到相应目录： 12chmod +x ./test.sh  #使脚本具有执">
<meta property="og:type" content="article">
<meta property="og:title" content="六便士的临时站">
<meta property="og:url" content="http://yoursite.com/2018/02/25/笔记—Shell 学习#初探—2017123001/index.html">
<meta property="og:site_name" content="六便士的临时站">
<meta property="og:description" content="基本语法规则第一个shell脚本12#!/bin/bashecho &quot;Hello World !&quot; #! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。 echo 命令用于向窗口输出文本。 运行 Shell 脚本有两种方法：1. 作为可执行程序将上面的代码保存为 test.sh，并 cd 到相应目录： 12chmod +x ./test.sh  #使脚本具有执">
<meta property="og:locale" content="zh-CH">
<meta property="og:updated_time" content="2018-01-04T13:07:32.134Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="六便士的临时站">
<meta name="twitter:description" content="基本语法规则第一个shell脚本12#!/bin/bashecho &quot;Hello World !&quot; #! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。 echo 命令用于向窗口输出文本。 运行 Shell 脚本有两种方法：1. 作为可执行程序将上面的代码保存为 test.sh，并 cd 到相应目录： 12chmod +x ./test.sh  #使脚本具有执">
  
    <link rel="alternate" href="/atom.xml" title="六便士的临时站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">六便士的临时站</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-笔记—Shell 学习#初探—2017123001" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/笔记—Shell 学习#初探—2017123001/" class="article-date">
  <time datetime="2018-02-25T13:51:59.204Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="基本语法规则"><a href="#基本语法规则" class="headerlink" title="基本语法规则"></a>基本语法规则</h1><h2 id="第一个shell脚本"><a href="#第一个shell脚本" class="headerlink" title="第一个shell脚本"></a>第一个shell脚本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Hello World !"</span></span><br></pre></td></tr></table></figure>
<p><code>#!</code> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p>
<p><code>echo</code> 命令用于向窗口输出文本。</p>
<h2 id="运行-Shell-脚本有两种方法："><a href="#运行-Shell-脚本有两种方法：" class="headerlink" title="运行 Shell 脚本有两种方法："></a>运行 Shell 脚本有两种方法：</h2><h3 id="1-作为可执行程序"><a href="#1-作为可执行程序" class="headerlink" title="1. 作为可执行程序"></a>1. 作为可执行程序</h3><p>将上面的代码保存为 test.sh，并 cd 到相应目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./test.sh  <span class="comment">#使脚本具有执行权限</span></span><br><span class="line">./test.sh  <span class="comment">#执行脚本</span></span><br></pre></td></tr></table></figure>
<p>注意，一定要写成 <code>./test.sh</code>，而不是 <code>test.sh</code>，运行其它二进制的程序也一样，直接写 <code>test.sh</code>，<code>linux</code> 系统会去 <code>PATH</code> 里寻找有没有叫 <code>test.sh</code> 的。</p>
<h3 id="2-作为解释器参数"><a href="#2-作为解释器参数" class="headerlink" title="2. 作为解释器参数"></a>2. 作为解释器参数</h3><p>这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh test.sh</span><br><span class="line">/bin/php test.php</span><br></pre></td></tr></table></figure>
<p>感觉第二种方式比较合理，在写法上也比较简单</p>
<h2 id="Shell-变量"><a href="#Shell-变量" class="headerlink" title="Shell 变量"></a>Shell 变量</h2><h3 id="1-定义变量"><a href="#1-定义变量" class="headerlink" title="1. 定义变量"></a>1. 定义变量</h3><p>定义变量时，变量名不加美元符号（\$，PHP语言中变量需要），如：</p>
<p><code>your_name=&quot;runoob.com&quot;</code></p>
<p>注意，<strong>变量名和等号之间不能有空格</strong>。同时，变量名的命名须遵循如下规则（与Stata的命名规则基本类似）：</p>
<ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
</ul>
<h3 id="2-使用变量"><a href="#2-使用变量" class="headerlink" title="2. 使用变量"></a>2. 使用变量</h3><p>使用变量</p>
<p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">"qinjx"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;your_name&#125;</span></span><br></pre></td></tr></table></figure>
<p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> skill <span class="keyword">in</span> Ada Coffe Action Java; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"I am good at <span class="variable">$&#123;skill&#125;</span>Script"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>如果不给 skill 变量加花括号，写成 <code>echo &quot;I am good at $skillScript&quot;</code>，解释器就会把 <code>$skillScript</code> 当成一个变量（其值为空），代码执行结果就不是我们期望的样子了。</p>
<p><strong>推荐给所有变量加上花括号</strong>，这是个好的编程习惯。</p>
<p>已定义的变量，可以被重新定义，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">"tom"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br><span class="line">your_name=<span class="string">"alibaba"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br></pre></td></tr></table></figure>
<p>这样写是合法的，但注意，第二次赋值的时候不能写<code>$your_name=&quot;alibaba&quot;</code>，使用变量的时候才加美元符（<code>$</code>）。</p>
<h3 id="只读变量"><a href="#只读变量" class="headerlink" title="只读变量"></a>只读变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">myUrl=<span class="string">"http://www.w3cschool.cc"</span></span><br><span class="line"><span class="built_in">readonly</span> myUrl</span><br><span class="line">myUrl=<span class="string">"http://www.runoob.com"</span></span><br></pre></td></tr></table></figure>
<p>运行脚本，结果如下：</p>
<p><code>/bin/sh: NAME: This variable is read only.</code></p>
<h3 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h3><p>使用 unset 命令可以删除变量。语法：</p>
<p><code>unset variable_name</code></p>
<p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p>
<h3 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h3><p>运行shell时，会同时存在三种变量：</p>
<ol>
<li><strong>局部变量</strong> 局部变量在脚本或命令中定义，仅在当前 shell 实例中有效，其他 shell 启动的程序不能访问局部变量。</li>
<li><strong>环境变量</strong> 所有的程序，包括 shell 启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候 shell 脚本也可以定义环境变量。</li>
<li><strong>shell变量</strong> shell 变量是由 shell 程序设置的特殊变量。shell 变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了 shell 的正常运行</li>
</ol>
<h3 id="Shell-字符串"><a href="#Shell-字符串" class="headerlink" title="Shell 字符串"></a>Shell 字符串</h3><p>字符串可以用单引号，也可以用双引号，也可以不用引号。单双引号的区别跟PHP类似。</p>
<ul>
<li><p>单引号</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">'this is a string'</span></span><br></pre></td></tr></table></figure>
<p>  单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，<strong>单引号字符串中的变量是无效的</strong>；</li>
<li><strong>单引号字串中不能出现单引号（对单引号使用转义符后也不行）</strong>。</li>
</ul>
</li>
<li><p>双引号</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">'qinjx'</span></span><br><span class="line">str=<span class="string">"Hello, I know your are \"<span class="variable">$your_name</span>\"! \n"</span></span><br></pre></td></tr></table></figure>
<p>  双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li><p>双引号里可以出现转义字符</p>
<p>这种区分比 Stata 对于引用的处理要方便很多，类似与 Stata 中的局部变量</p>
</li>
</ul>
</li>
</ul>
<h3 id="拼接字符串"><a href="#拼接字符串" class="headerlink" title="拼接字符串"></a>拼接字符串</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">"qinjx"</span></span><br><span class="line">greeting=<span class="string">"hello, "</span><span class="variable">$your_name</span><span class="string">" !"</span></span><br><span class="line">greeting_1=<span class="string">"hello, <span class="variable">$&#123;your_name&#125;</span> !"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$greeting</span> <span class="variable">$greeting_1</span></span><br></pre></td></tr></table></figure>
<h3 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a>获取字符串长度</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">"abcd"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#string&#125;</span> <span class="comment">#输出 4</span></span><br></pre></td></tr></table></figure>
<p>关键是 <code>#</code></p>
<h3 id="提取子字符串"><a href="#提取子字符串" class="headerlink" title="提取子字符串"></a>提取子字符串</h3><p>以下实例从字符串第 2 个字符开始截取 4 个字符：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">"runoob is a great site"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;string:1:4&#125;</span> <span class="comment"># 输出 unoo</span></span><br></pre></td></tr></table></figure>
<p>感觉 <code>${}</code> 的功能比较强大</p>
<h3 id="查找子字符串"><a href="#查找子字符串" class="headerlink" title="查找子字符串"></a>查找子字符串</h3><p>查找字符 “i 或 s” 的位置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">"runoob is a great company"</span></span><br><span class="line"><span class="built_in">echo</span> `expr index <span class="string">"<span class="variable">$string</span>"</span> is`  <span class="comment"># 输出 8</span></span><br></pre></td></tr></table></figure>
<p>注意： 以上脚本中 “<figure class="highlight plain"><figcaption><span>是反引号，而不是单引号 "`'`"。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`expr index` 可能是一个参数</span><br><span class="line"></span><br><span class="line">## Shell 数组</span><br><span class="line"></span><br><span class="line">bash 支持一维数组（不支持多维数组），并且没有限定数组的大小。</span><br><span class="line"></span><br><span class="line">类似与 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</span><br><span class="line"></span><br><span class="line">### 定义数组</span><br><span class="line"></span><br><span class="line">在Shell中，用括号来表示数组，数组元素用&quot;空格&quot;符号分割开。定义数组的一般形式为：</span><br><span class="line"></span><br><span class="line">`数组名=(值1 值2 ... 值n)`</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line">```bash</span><br><span class="line">array_name=(value0 value1 value2 value3)</span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array_name=(</span><br><span class="line">value0</span><br><span class="line">value1</span><br><span class="line">value2</span><br><span class="line">value3</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>还可以单独定义数组的各个分量：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[n]=valuen</span><br></pre></td></tr></table></figure></p>
<p>可以不使用连续的下标，而且下标的范围没有限制。</p>
<h3 id="读取数组"><a href="#读取数组" class="headerlink" title="读取数组"></a>读取数组</h3><p>读取数组元素值的一般格式是：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;数组名[下标]&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valuen=<span class="variable">$&#123;array_name[n]&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>使用@符号可以获取数组中的所有元素，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array_name[@]&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="获取数组的长度"><a href="#获取数组的长度" class="headerlink" title="获取数组的长度"></a>获取数组的长度</h3><p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取得数组元素的个数</span></span><br><span class="line">length=<span class="variable">$&#123;#array_name[@]&#125;</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">length=<span class="variable">$&#123;#array_name[*]&#125;</span></span><br><span class="line"><span class="comment"># 取得数组单个元素的长度</span></span><br><span class="line">lengthn=<span class="variable">$&#123;#array_name[n]&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="字符串截取"><a href="#字符串截取" class="headerlink" title="字符串截取"></a>字符串截取</h2><p>Linux 的字符串截取很有用。有八种方法。</p>
<p>假设有变量 var=<a href="http://www.aaa.com/123.htm" target="_blank" rel="noopener">http://www.aaa.com/123.htm</a></p>
<ol>
<li><p><code>#</code> 号截取，删除左边字符，保留右边字符。</p>
<p> <code>echo ${var#*//}</code></p>
<p> 其中 <code>var</code> 是变量名，<code>#</code> 号是运算符，<code>*//</code> 表示从左边开始删除第一个 <code>//</code> 号及左边的所有字符</p>
<p> 即删除 <code>http://</code></p>
<p> 结果是 ：<code>www.aaa.com/123.htm</code></p>
</li>
<li><p><code>##</code> 号截取，删除左边字符，保留右边字符。</p>
<p> <code>echo ${var##*/}</code></p>
<p> <code>##*/</code> 表示从左边开始删除最后（最右边）一个 / 号及左边的所有字符</p>
<p> 即删除 <code>http://www.aaa.com/</code></p>
<p> 结果是 <code>123.htm</code></p>
</li>
<li><p><code>%</code> 号截取，删除右边字符，保留左边字符</p>
<p> <code>echo ${var%/*}</code></p>
<p> <code>%/*</code> 表示从右边开始，删除第一个 <code>/</code> 号及右边的字符</p>
<p> 结果是：<code>http://www.aaa.com</code></p>
</li>
<li><p><code>%%</code> 号截取，删除右边字符，保留左边字符</p>
<p> <code>echo ${var%%/*}</code></p>
<p> <code>%%/*</code> 表示从右边开始，删除最后（最左边）一个 <code>/</code> 号及右边的字符</p>
<p> 结果是：<code>http:</code></p>
</li>
<li><p>从左边第几个字符开始，及字符的个数</p>
<p> <code>echo ${var:0:5}</code></p>
<p> 其中的 0 表示左边第一个字符开始，5 表示字符的总个数。</p>
<p> 结果是：<code>http:</code></p>
</li>
<li><p>从左边第几个字符开始，一直到结束。</p>
<p><code>echo ${var:7}</code></p>
<p> 其中的 7 表示左边第8个字符开始，一直到结束。</p>
<p> 结果是 ：<code>www.aaa.com/123.htm</code></p>
</li>
<li><p>从右边第几个字符开始，及字符的个数</p>
<p> <code>echo ${var:0-7:3}</code></p>
<p> 其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。</p>
<p> 结果是：<code>123</code></p>
</li>
<li><p>从右边第几个字符开始，一直到结束。</p>
<p> <code>echo ${var:0-7}</code></p>
<p> 表示从右边第七个字符开始，一直到结束。</p>
<p> 结果是：<code>123.htm</code></p>
</li>
</ol>
<p><strong>总结</strong>：</p>
<p><code>#</code>、<code>##</code> 表示从左边开始删除。一个 <code>#</code> 表示从左边删除到第一个指定的字符；两个 <code>#</code> 表示从左边删除到最后一个指定的字符。</p>
<p><code>%</code>、<code>%%</code> 表示从右边开始删除。一个 <code>%</code> 表示从右边删除到第一个指定的字符；两个 <code>%</code> 表示从左边删除到最后一个指定的字符。</p>
<p>删除包括了指定的字符本身。</p>
<h2 id="Shell-传递参数"><a href="#Shell-传递参数" class="headerlink" title="Shell 传递参数"></a>Shell 传递参数</h2><p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：<code>$n</code>。n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p>
<ul>
<li>\$#     传递到脚本的参数个数</li>
<li>\$*     以一个单字符串显示所有向脚本传递的参数。如<code>&quot;$*&quot;</code>用「”」括起来的情况、以”<code>$1 $2 … $n</code>“的形式输出所有参数。</li>
<li>\$\$  脚本运行的当前进程ID号</li>
<li>\$!     后台运行的最后一个进程的ID号</li>
<li>\$@     与 <code>$*</code> 相同，但是使用时加引号，并在引号中返回每个参数。如”<code>$@</code>“用「”」括起来的情况、以”<code>$1</code>“ “<code>$2</code>“ … “<code>$n</code>“ 的形式输出所有参数。</li>
<li>\$-     显示Shell使用的当前选项，与set命令功能相同。</li>
<li>\$?     显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># author:罗伟</span></span><br><span class="line"><span class="comment"># url:www.runoob.com</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Shell 传递参数实例！"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"执行的文件名：<span class="variable">$0</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"第一个参数为：<span class="variable">$1</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"第二个参数为：<span class="variable">$2</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"第三个参数为：<span class="variable">$3</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"参数个数为：<span class="variable">$#</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"传递的参数作为一个字符串现实：$*"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"-- \$* 演示 --"</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">"$*"</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"-- \$@ 演示 --"</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">"<span class="variable">$@</span>"</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="Linux-文件和目录管理"><a href="#Linux-文件和目录管理" class="headerlink" title="Linux 文件和目录管理"></a>Linux 文件和目录管理</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>两种路径：</p>
<ul>
<li>绝对路径：由根目录 / 写起，例如： <code>/usr/share/doc</code> 这个目录</li>
<li>相对路径: 例如由 <code>/usr/share/doc</code> 要到 <code>/usr/share/man</code> 底下时，可以写成 <code>cd ../man</code></li>
</ul>
<h3 id="处理目录的常用命令"><a href="#处理目录的常用命令" class="headerlink" title="处理目录的常用命令"></a>处理目录的常用命令</h3><ul>
<li><code>ls</code>: 列出目录</li>
<li><code>cd</code>：切换目录</li>
<li><code>pwd</code>：现实目前的目录</li>
<li><code>mkdir</code>：创建一个新的目录</li>
<li><code>rmdir</code>：删除一个空的目录</li>
<li><code>cp</code>：复制文件或目录</li>
<li><code>rm</code>：移除文件或目录</li>
</ul>
<h3 id="ls-列出目录"><a href="#ls-列出目录" class="headerlink" title="ls (列出目录)"></a><code>ls</code> (列出目录)</h3><p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># ls [-aAdfFhilnrRSt] 目录名称</span></span><br><span class="line">[root@www ~]<span class="comment"># ls [--color=&#123;never,auto,always&#125;] 目录名称</span></span><br><span class="line">[root@www ~]<span class="comment"># ls [--full-time] 目录名称</span></span><br></pre></td></tr></table></figure>
<p>选项与参数：</p>
<ul>
<li><code>-a</code> ：全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)</li>
<li><code>-d</code> ：仅列出目录本身，而不是列出目录内的文件数据(常用)</li>
<li><code>-l</code> ：长数据串列出，包含文件的属性与权限等等数据；(常用)</li>
</ul>
<h3 id="mkdir-创建新目录"><a href="#mkdir-创建新目录" class="headerlink" title="mkdir (创建新目录)"></a><code>mkdir</code> (创建新目录)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir [-mp] 目录名称</span><br></pre></td></tr></table></figure>
<p>选项与参数：</p>
<ul>
<li><code>-m</code> ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～</li>
<li><code>-p</code> ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！</li>
</ul>
<h3 id="cp-复制文件或目录"><a href="#cp-复制文件或目录" class="headerlink" title="cp (复制文件或目录)"></a><code>cp</code> (复制文件或目录)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># cp [-adfilprsu] 来源档(source) 目标档(destination)</span></span><br><span class="line">[root@www ~]<span class="comment"># cp [options] source1 source2 source3 .... directory</span></span><br></pre></td></tr></table></figure>
<p>选项与参数：</p>
<ul>
<li><code>-a</code>：相当於 <code>-pdr</code> 的意思，至於 pdr 请参考下列说明；(常用)</li>
<li><code>-d</code>：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；</li>
<li><code>-f</code>：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；</li>
<li><code>-i</code>：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)</li>
<li><code>-l</code>：进行硬式连结(hard link)的连结档创建，而非复制文件本身；</li>
<li><code>-p</code>：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；</li>
<li><code>-r</code>：递归持续复制，用於目录的复制行为；(常用)</li>
<li><code>-s</code>：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；</li>
<li><code>-u</code>：若 destination 比 source 旧才升级 destination ！</li>
</ul>
<p>示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># cp ~/.zshrc /tmp/zshrc</span></span><br><span class="line">[root@www ~]<span class="comment"># cp -i ~/.zshrc /tmp/zshrc</span></span><br><span class="line">cp: overwrite /tmp/zshrc? (y/n [n]) y</span><br></pre></td></tr></table></figure>
<h3 id="rm-移除文件或目录"><a href="#rm-移除文件或目录" class="headerlink" title="rm (移除文件或目录)"></a>rm (移除文件或目录)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm [-fir] 文件或目录</span><br></pre></td></tr></table></figure>
<p>选项与参数：</p>
<ul>
<li><code>-f</code> ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；</li>
<li><code>-i</code> ：互动模式，在删除前会询问使用者是否动作</li>
<li><code>-r</code> ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！</li>
</ul>
<p>将刚刚在 cp 的范例中创建的 bashrc 删除掉！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www tmp]<span class="comment"># rm -i bashrc</span></span><br><span class="line">rm: remove regular file `bashrc<span class="string">'? y</span></span><br></pre></td></tr></table></figure>
<h3 id="mv-移动文件与目录，或修改名称"><a href="#mv-移动文件与目录，或修改名称" class="headerlink" title="mv (移动文件与目录，或修改名称)"></a>mv (移动文件与目录，或修改名称)</h3><pre><code>[root@www ~]# mv [-fiu] source destination
[root@www ~]# mv [options] source1 source2 source3 .... directory
</code></pre><p>选项与参数：</p>
<ul>
<li><code>-f</code> ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</li>
<li><code>-i</code> ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</li>
<li><code>-u</code> ：若目标文件已经存在，且 source 比较新，才会升级 (update)</li>
</ul>
<p>复制一文件，创建一目录，将文件移动到目录中</p>
<pre><code>[root@www ~]# cd /tmp
[root@www tmp]# cp ~/.bashrc bashrc
[root@www tmp]# mkdir mvtest
[root@www tmp]# mv bashrc mvtest
</code></pre><h2 id="Linux-文件内容查看"><a href="#Linux-文件内容查看" class="headerlink" title="Linux 文件内容查看"></a>Linux 文件内容查看</h2><p>基本命令：</p>
<ul>
<li>cat  由第一行开始显示文件内容</li>
<li>tac  从最后一行开始显示，可以看出 tac 是 cat 的倒著写！</li>
<li>nl   显示的时候，顺道输出行号！</li>
<li>more 一页一页的显示文件内容</li>
<li>less 与 more 类似，但是比 more 更好的是，他可以往前翻页！</li>
<li>head 只看头几行</li>
<li>tail 只看尾巴几行</li>
<li>man  查看各个命令的使用文档，如 ：man cp</li>
</ul>
<h3 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h3><ul>
<li><code>-A</code> ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li>
<li><code>-b</code> ：列出行号，仅针对非空白行做行号显示，空白行不标行号！</li>
<li><code>-E</code> ：将结尾的断行字节 $ 显示出来；</li>
<li><code>-n</code> ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；</li>
<li><code>-T</code> ：将 [tab] 按键以 ^I 显示出来；</li>
<li><code>-v</code> ：列出一些看不出来的特殊字符</li>
</ul>
<h3 id="nl-显示行号"><a href="#nl-显示行号" class="headerlink" title="nl 显示行号"></a>nl 显示行号</h3><p>选项与参数：</p>
<ul>
<li><code>-b</code> ：指定行号指定的方式，主要有两种：<ul>
<li><code>-b a</code> ：表示不论是否为空行，也同样列出行号(类似 cat -n)；</li>
<li><code>-b t</code> ：如果有空行，空的那一行不要列出行号(默认值)；</li>
</ul>
</li>
<li><code>-n</code> ：列出行号表示的方法，主要有三种：<ul>
<li><code>-n ln</code> ：行号在荧幕的最左方显示；</li>
<li><code>-n rn</code> ：行号在自己栏位的最右方显示，且不加 0 ；</li>
<li><code>-n rz</code> ：行号在自己栏位的最右方显示，且加 0 ；</li>
</ul>
</li>
<li><code>-w</code> ：行号栏位的占用的位数。</li>
</ul>
<h3 id="more-一行一行翻动-这个命令好厉害，特别是在搜索字符串方面"><a href="#more-一行一行翻动-这个命令好厉害，特别是在搜索字符串方面" class="headerlink" title="more 一行一行翻动 这个命令好厉害，特别是在搜索字符串方面"></a>more 一行一行翻动 <em>这个命令好厉害，特别是在搜索字符串方面</em></h3><ul>
<li>空白键 (space)：代表向下翻一页；</li>
<li>Enter         ：代表向下翻『一行』；</li>
<li>/字串         ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</li>
<li>:f            ：立刻显示出档名以及目前显示的行数；</li>
<li>q             ：代表立刻离开 more ，不再显示该文件内容。</li>
<li>b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</li>
</ul>
<h3 id="less-一页一页翻动"><a href="#less-一页一页翻动" class="headerlink" title="less 一页一页翻动"></a>less 一页一页翻动</h3><p>less运行时可以输入的命令有：</p>
<ul>
<li>空白键    ：向下翻动一页；</li>
<li>[pagedown]：向下翻动一页；</li>
<li>[pageup]  ：向上翻动一页；</li>
<li>/字串     ：向下搜寻『字串』的功能；</li>
<li>?字串     ：向上搜寻『字串』的功能；</li>
<li>n         ：重复前一个搜寻 (与 / 或 ? 有关！)</li>
<li>N         ：反向的重复前一个搜寻 (与 / 或 ? 有关！)</li>
<li>q         ：离开 less 这个程序；</li>
</ul>
<h3 id="head-取出文件前面几行，这个命令在现实大文件时特别管用，但不知道读取超大型文件的原理如何？如何不用全部加载，那么他的读取效率应该非常高"><a href="#head-取出文件前面几行，这个命令在现实大文件时特别管用，但不知道读取超大型文件的原理如何？如何不用全部加载，那么他的读取效率应该非常高" class="headerlink" title="head 取出文件前面几行，这个命令在现实大文件时特别管用，但不知道读取超大型文件的原理如何？如何不用全部加载，那么他的读取效率应该非常高"></a>head 取出文件前面几行，这个命令在现实大文件时特别管用，但不知道读取超大型文件的原理如何？如何不用全部加载，那么他的读取效率应该非常高</h3><pre><code>head [-n number] 文件
</code></pre><p>选项与参数</p>
<ul>
<li><code>-n</code> ：后面接数字，代表显示几行的意思</li>
</ul>
<h3 id="tail-取出文件后面几行，语法和-head-基本类似"><a href="#tail-取出文件后面几行，语法和-head-基本类似" class="headerlink" title="tail 取出文件后面几行，语法和 head 基本类似"></a>tail 取出文件后面几行，语法和 head 基本类似</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/25/笔记—Shell 学习#初探—2017123001/" data-id="cje2ut5tl0007ao09ykskpiem" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/02/25/temp-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">temp</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/标签1/">标签1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/标签2/">标签2</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/标签2/" style="font-size: 10px;">标签2</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/25/笔记—Shell 学习#初探—2017123001/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/02/25/temp-1/">temp</a>
          </li>
        
          <li>
            <a href="/2018/02/25/测试/">测试</a>
          </li>
        
          <li>
            <a href="/2018/02/25/我的测试文章/">我的测试文章</a>
          </li>
        
          <li>
            <a href="/2018/02/25/test-my-site/">test_my_site</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Liubianshi<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>